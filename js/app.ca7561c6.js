(function(){"use strict";var n={831:function(n,e,i){var t=i(963),r=i(252),l=i(577);const o=(0,r._)("label",null,"Введите жанр:",-1),a=(0,r._)("label",null,"Введите минимальный рейтинг (опционально):",-1),u={key:0},s={key:1},f=(0,r._)("h2",null,"Найденный фильм:",-1),c=(0,r._)("h2",null,"Описание:",-1),h=(0,r._)("h2",null,"Оценка:",-1),p=(0,r._)("h2",null,"Жанры:",-1),w=(0,r._)("h2",null,"Страны:",-1),g=(0,r._)("h2",null,"Продолжительность:",-1),d=(0,r._)("h2",null,"Год:",-1),m=["href"],_=["src"],y=["src"],k={key:2};function v(n,e,i,v,b,O){return(0,r.wg)(),(0,r.iD)("div",null,[o,(0,r.wy)((0,r._)("input",{type:"text","onUpdate:modelValue":e[0]||(e[0]=n=>b.genre=n)},null,512),[[t.nr,b.genre]]),a,(0,r.wy)((0,r._)("input",{type:"text","onUpdate:modelValue":e[1]||(e[1]=n=>b.rating=n)},null,512),[[t.nr,b.rating]]),(0,r._)("button",{onClick:e[2]||(e[2]=(...n)=>O.search&&O.search(...n))},"Поиск"),b.loading?((0,r.wg)(),(0,r.iD)("div",u,"Загрузка...")):b.film?((0,r.wg)(),(0,r.iD)("div",s,[f,(0,r._)("p",null,(0,l.zw)(b.film.name_russian)+" "+(0,l.zw)(b.film.age_restriction)+"+",1),c,(0,r._)("p",null,(0,l.zw)(b.film.description),1),h,(0,r._)("p",null,(0,l.zw)(b.film.rating_kp),1),p,(0,r._)("ul",null,[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(b.film.genres,(n=>((0,r.wg)(),(0,r.iD)("li",{key:n.id},(0,l.zw)(n.name_ru),1)))),128))]),w,(0,r._)("p",null,(0,l.zw)(b.film.country_ru),1),g,(0,r._)("p",null,(0,l.zw)(b.film.time),1),d,(0,r._)("p",null,(0,l.zw)(b.film.year),1),(0,r._)("h2",null,[(0,r._)("a",{href:b.link_kp}," На кинопоиске",8,m)]),(0,r._)("img",{src:b.film.small_poster},null,8,_),(0,r._)("iframe",{width:"560",height:"315",src:b.film.trailer,title:"YouTube video player",frameborder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share",allowfullscreen:""},null,8,y)])):((0,r.wg)(),(0,r.iD)("div",k,"Нет фильмов с таким жанром на этой странице. Попробуйте еще раз."))])}var b={data(){return{genre:"",rating:"",year:"1990",type:"film",film:null,loading:!1,whl:!0,link_kp:""}},methods:{async search(){this.loading=!0;while(this.whl){const n=Math.floor(18e3*Math.random())+1,e=`https://kinobd.ru/api/films?page=${n}`,i=await fetch(e),t=await i.json(),r=t.data.filter((n=>n.genres.some((n=>n.name_ru.toLowerCase().includes(this.genre.toLowerCase()))))).filter((n=>n.rating_kp_count>1e3));if(console.log(r),r.length>0){let n=Math.floor(Math.random()*r.length),e=r[n];if(this.rating&&e.rating_kp<parseInt(this.rating))continue;if(this.year&&e.year<parseInt(this.year))continue;if(this.type!==e.type)continue;this.film=e;break}}this.loading=!1,this.link_kp="https://www.kinopoisk.ru/film/"+this.film.kinopoisk_id,console.log(this.link_kp)}}},O=i(744);const z=(0,O.Z)(b,[["render",v]]);var j=z;(0,t.ri)(j).mount("#app")}},e={};function i(t){var r=e[t];if(void 0!==r)return r.exports;var l=e[t]={exports:{}};return n[t](l,l.exports,i),l.exports}i.m=n,function(){var n=[];i.O=function(e,t,r,l){if(!t){var o=1/0;for(f=0;f<n.length;f++){t=n[f][0],r=n[f][1],l=n[f][2];for(var a=!0,u=0;u<t.length;u++)(!1&l||o>=l)&&Object.keys(i.O).every((function(n){return i.O[n](t[u])}))?t.splice(u--,1):(a=!1,l<o&&(o=l));if(a){n.splice(f--,1);var s=r();void 0!==s&&(e=s)}}return e}l=l||0;for(var f=n.length;f>0&&n[f-1][2]>l;f--)n[f]=n[f-1];n[f]=[t,r,l]}}(),function(){i.d=function(n,e){for(var t in e)i.o(e,t)&&!i.o(n,t)&&Object.defineProperty(n,t,{enumerable:!0,get:e[t]})}}(),function(){i.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(n){if("object"===typeof window)return window}}()}(),function(){i.o=function(n,e){return Object.prototype.hasOwnProperty.call(n,e)}}(),function(){var n={143:0};i.O.j=function(e){return 0===n[e]};var e=function(e,t){var r,l,o=t[0],a=t[1],u=t[2],s=0;if(o.some((function(e){return 0!==n[e]}))){for(r in a)i.o(a,r)&&(i.m[r]=a[r]);if(u)var f=u(i)}for(e&&e(t);s<o.length;s++)l=o[s],i.o(n,l)&&n[l]&&n[l][0](),n[l]=0;return i.O(f)},t=self["webpackChunkwiwts"]=self["webpackChunkwiwts"]||[];t.forEach(e.bind(null,0)),t.push=e.bind(null,t.push.bind(t))}();var t=i.O(void 0,[998],(function(){return i(831)}));t=i.O(t)})();
//# sourceMappingURL=app.ca7561c6.js.map